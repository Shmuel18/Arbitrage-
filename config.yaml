# Trinity Arbitrage Engine v3.0

system:
  name: "Trinity Arbitrage Engine"
  version: "3.0.0"

risk_limits:
  max_margin_usage: 0.70
  max_position_size_usd: 10000
  delta_threshold_pct: 5.0
  position_size_pct: 0.70

trading_params:
  min_funding_spread: 0.5 # minimum gross funding-rate spread per 8h settlement (%)
  min_net_pct: 0.01 # minimum net spread after fees (%) â€” safety floor
  max_slippage_pct: 0.10 # max price slippage to allow entry (%)
  slippage_buffer_pct: 0.015
  safety_buffer_pct: 0.02
  basis_buffer_pct: 0.01
  cooldown_after_orphan_hours: 2
  entry_offset_seconds: 900
  exit_offset_seconds: 900
  top_opportunities_display: 5
  execute_only_best_opportunity: true

execution:
  concurrent_opportunities: 1
  order_timeout_ms: 5000
  batch_scan_concurrent: true
  scan_parallelism: 10

risk_guard:
  fast_loop_interval_sec: 5
  deep_loop_interval_sec: 60
  enable_panic_close: true
  scanner_interval_sec: 10

exchanges:
  enabled:
    - binance
    - bybit
    - okx

  binance:
    name: "Binance Futures"
    ccxt_id: "binanceusdm"
    default_type: "future"
    rate_limit_ms: 50
    max_leverage: 20
    leverage: 5
    margin_mode: "isolated"
    position_mode: "oneway"

  bybit:
    name: "Bybit USDT Perpetual"
    ccxt_id: "bybit"
    default_type: "swap"
    rate_limit_ms: 50
    max_leverage: 25
    leverage: 5
    margin_mode: "cross"
    position_mode: "oneway"

  okx:
    name: "OKX Futures"
    ccxt_id: "okx"
    default_type: "swap"
    rate_limit_ms: 100
    max_leverage: 20
    leverage: 5
    margin_mode: "isolated"
    position_mode: "oneway"

symbols:
  scan_all: true

logging:
  level: "INFO"
  format: "json"
  console_output: true
  file_output: true
  log_dir: "logs"
  log_balances_on_startup: true
  log_balances_after_trade: true
  log_top_opportunities: true
  max_file_size_mb: 100
  backup_count: 10

redis:
  key_prefix: "trinity:"
  lock_timeout_sec: 10
